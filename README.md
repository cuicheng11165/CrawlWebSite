# CrawlWebSite
爬取所有的网站信息，以及网站的主题，并存到sqlserver中

版本1：

1. 从hao123开始，获取每一个网页的中的anchor标签，把Url放到一个队列中
2. 多线程从上面的队列中获取每一个Url，重复1里面的行为
3. 把抓取成功能URL获取Meta信息，把站点的一级域名，子域名，关键字存在SuccessfulWeb表中
4. 把无法抓取的URL的一级域名，子域名，错误信息存在FailedWeb表中
5. 如果1中生成的队列过长，缓存到 CacheWeb表中


* 抓取大概10万条URL，发现抓取的越来越慢，因为经常会出现重复抓取的情况，我们不知道URL有没有被更新过，因此每一次都需要重复抓取

## 解决思路：  

* 第一次先请求某个网页，抓取到本地，假设文件名为 a.html。这时文件系统有个文件的修改时间。
* 第二次访问网页，如果发现本地已经有了 a.html，则向服务器发送一个 If-Modified-Since 的请求（http://www.w3.org/Protocols/rfc2616/rfc2616-sec14.html）。 把 a.html 的修改时间写到请求里。
* 
* 如果网页更新了，服务器会返回一个 200 的应答，这时就重新抓取网页，更新本地文件。
* 
* 如果网页没有更新，服务器会返回一个304的应答。这时就不需要更新文件了。
* 
* 作者：陈子平
* 链接：https://www.zhihu.com/question/27720717/answer/37791810
* 来源：知乎

* 著作权归作者所有。商业转载请联系作者获得授权，非商业转载请注明出处。
版本2:
